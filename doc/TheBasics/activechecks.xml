<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd"
[
  <!ENTITY % all.entities SYSTEM "../all-entities.ent">
  %all.entities;
]
>
<chapter id="thebasics-activechecks" xreflabel="Active Checks">
  <title>Active Checks</title>

  <section>
    <title>Introduction</title>

    <para>Nagios is capable of monitoring hosts and services in two ways:
    actively and passively. Passive checks are described <link
    linkend="thebasics-passivechecks">elsewhere</link>, so we'll focus on
    active checks here. Active checks are the most common method for
    monitoring hosts and services. The main features of actives checks as as
    follows:</para>

    <itemizedlist>
      <listitem>
        <para>Active checks are initiated by the Nagios process</para>
      </listitem>

      <listitem>
        <para>Active checks are run on a regularly scheduled basis</para>
      </listitem>
    </itemizedlist>
  </section>

  <section>
    <title>How Are Active Checks Performed?</title>

    <para><informalfigure>
	<mediaobject>
        <imageobject>
          <imagedata fileref="images/activechecks.png" format="PNG"/>
        </imageobject>
      </mediaobject></informalfigure>Active checks are initiated by the check logic in
    the Nagios daemon. When Nagios needs to check the status of a host or
    service it will execute a plugin and pass it information about what needs
    to be checked. The plugin will then check the operational state of the
    host or service and report the results back to the Nagios daemon. Nagios
    will process the results of the host or service check and take appropriate
    action as necessary (e.g. send notifications, run event handlers,
    etc).</para>

    <para>More information on how plugins work can be found <link
    linkend="thebasics-plugins">here</link>.</para>
  </section>

  <section>
    <title>When Are Active Checks Executed?</title>

    <para>Active check are executed:</para>

    <itemizedlist>
      <listitem>
        <para>At regular intervals, as defined by the
        <code>check_interval</code> and <code>retry_interval</code> options in
        your host and service definitions</para>
      </listitem>

      <listitem>
        <para>On-demand as needed</para>
      </listitem>
    </itemizedlist>

    <para>Regularly scheduled checks occur at intervals equaling either the
    <code>check_interval</code> or the <code>retry_interval</code> in your
    host or service definitions, depending on what <link
    linkend="thebasics-statetypes">type of state</link> the host or service is
    in. If a host or service is in a HARD state, it will be actively checked
    at intervals equal to the <code>check_interval</code> option. If it is in
    a SOFT state, it will be checked at intervals equal to the retry_interval
    option.</para>

    <para>On-demand checks are performed whenever Nagios sees a need to obtain
    the latest status information about a particular host or service. For
    example, when Nagios is determining the <link
    linkend="thebasics-networkreachability">reachability</link> of a host, it
    will often perform on-demand checks of parent and child hosts to
    accurately determine the status of a particular network segment. On-demand
    checks also occur in the <link
    linkend="advancedtopics-dependencychecks">predictive dependency
    check</link> logic in order to ensure Nagios has the most accurate status
    information.</para>
  </section>
</chapter>
